<div class="login-main-container">
    <div class="login-container">
        <div class="login-header">
            <h1>Iniciar sesión</h1>
            <p class="subtitle">Accede a tu cuenta para continuar</p>
        </div>

        <form class="login-form" #loginForm="ngForm" (ngSubmit)="submit(loginForm)">

            <div class="form-group">
                <label for="email">Correo electrónico</label>
                <input id="email" name="email" type="email" [(ngModel)]="model.email" #email="ngModel" required email
                    [class.invalid]="email.invalid && (email.dirty || email.touched)"
                    [class.valid]="email.valid && (email.dirty || email.touched)">
                <small class="error" *ngIf="email.invalid && (email.dirty || email.touched)">
                    Ingresa un correo válido.
                </small>
            </div>

            <div class="form-group">
                <label for="password">Contraseña</label>

                <div class="password-wrapper">
                    <input id="password" name="password" [type]="passwordVisible ? 'text' : 'password'"
                        [(ngModel)]="model.password" #password="ngModel" required minlength="6"
                        [class.invalid]="password.invalid && (password.dirty || password.touched)"
                        [class.valid]="password.valid && (password.dirty || password.touched)">
                    <button type="button" class="eye-btn" (click)="togglePasswordVisibility()"
                        aria-label="Mostrar contraseña">
                        <!-- Ícono ojo -->
                        <svg *ngIf="!passwordVisible" width="22" height="22" viewBox="0 0 24 24" fill="none"
                            stroke="#555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>

                        <!-- Ícono ojo tachado -->
                        <svg *ngIf="passwordVisible" width="22" height="22" viewBox="0 0 24 24" fill="none"
                            stroke="#555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a21.8 21.8 0 0 1 5.06-6.06M9.9 4.24A10.94 10.94 0 0 1 12 4c7 0 11 8 11 8a21.8 21.8 0 0 1-2.26 3.45">
                            </path>
                            <line x1="1" y1="1" x2="23" y2="23"></line>
                        </svg>
                    </button>
                </div>

                <small class="error" *ngIf="password.invalid && (password.dirty || password.touched)">
                    La contraseña debe tener al menos 6 caracteres.
                </small>
            </div>

            <div class="row-between">
                <button type="button" class="link" (click)="forgotPassword()">¿Olvidaste tu contraseña?</button>
            </div>

            <button class="primary-btn" type="submit" [disabled]="loginForm.invalid">
                Iniciar sesión
            </button>

            <div class="divider"></div>

            <div class="footer">
                <span>¿No tienes cuenta?</span>
                <button type="button" class="secondary-link" (click)="navigateToRegister()">Crear cuenta</button>
            </div>

        </form>
    </div>
</div>