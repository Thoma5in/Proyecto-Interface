<section class="agendar-wrapper">
  <div class="card">
    <h2>Agendar Cita</h2>

    <form [formGroup]="form" (ngSubmit)="enviar()" class="form">

      <label>
        Nombre Completo
        <input type="text" formControlName="nombre" placeholder="Tu nombre" />
        <small *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched">
          Ingresa un nombre v√°lido.
        </small>
      </label>

      <label>
        Tipo de Documento
        <select formControlName="tipoDocumento">
          <option value="">Selecciona tipo</option>
          <option>CC</option>
          <option>CE</option>
          <option>TI</option>
        </select>
        <small *ngIf="form.get('tipoDocumento')?.invalid && form.get('tipoDocumento')?.touched">
          Selecciona un tipo de documento.
        </small>
      </label>

      <label>
        N√∫mero de Documento
        <input type="text" formControlName="cedula" maxlength="10" placeholder="M√°ximo 10 d√≠gitos" />
        <small *ngIf="form.get('cedula')?.invalid && form.get('cedula')?.touched">
          Solo n√∫meros (m√°x 10 d√≠gitos).
        </small>
      </label>

      <label>
        N√∫mero Telef√≥nico
        <input type="tel" formControlName="telefono" maxlength="10" placeholder="Ej: 3001234567" />
        <small *ngIf="form.get('telefono')?.invalid && form.get('telefono')?.touched">
          Solo n√∫meros (m√°x 10 d√≠gitos).
        </small>
      </label>

      <label>
        Correo Electr√≥nico
        <input type="email" formControlName="correo" placeholder="tu@correo.com" />
        <small *ngIf="form.get('correo')?.invalid && form.get('correo')?.touched">
          Ingresa un correo v√°lido.
        </small>
      </label>

      <label>
        Selecciona la especialidad que necesitas
        <select formControlName="especialidad">
          <option value="">Elige una especialidad</option>
          <option>Medicina general</option>
          <option>Pediatr√≠a</option>
          <option>Ginecolog√≠a</option>
          <option>Cardiolog√≠a</option>
          <option>Dermatolog√≠a</option>
          <option>Psicolog√≠a</option>
          <option>Odontolog√≠a</option>
        </select>
        <small *ngIf="form.get('especialidad')?.invalid && form.get('especialidad')?.touched">
          Elige la especialidad en la que necesitas atenci√≥n.
        </small>
      </label>

      <label>
        Elegir fecha para la cita
        <input type="date" formControlName="fecha" />
        <small *ngIf="form.get('fecha')?.invalid && form.get('fecha')?.touched">
          Selecciona una fecha.
        </small>
      </label>

      <div class="actions">
        <button type="reset" class="btn btn-light">Limpiar info</button>
        <button type="submit" class="btn btn-primary">Enviar info</button>
      </div>

    </form>
  </div>
</section>

<!-- Modal -->
<div class="modal" *ngIf="confirmacionVisible">
  <div class="modal-content">
    <h3>¬°Cita Confirmada! üéâ</h3>
    <p><strong>Nombre del paciente:</strong> {{ form.value.nombre }}</p>
    <p><strong>C√©dula:</strong> {{ form.value.cedula }}</p>
    <p><strong>Fecha:</strong> {{ form.value.fecha }}</p>

    <div class="doctor-info">
      <h4>Te atender√°:</h4>
      <p><strong>Dr. Juan P√©rez</strong></p>
      <p>Especialidad: Medicina general</p>
      <p>Consultorio virtual MedConnect</p>
    </div>

    <button class="go-call" (click)="irVideollamada()">
      Ir a la videollamada üìû
    </button>

    <button class="go-call secondary" (click)="irCitasAgendadas()">
      Ver citas agendadas üìÖ
    </button>
  </div>
</div>